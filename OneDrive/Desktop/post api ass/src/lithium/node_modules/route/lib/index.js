// Generated by CoffeeScript 1.4.0
var route;

route = typeof exports !== "undefined" && exports !== null ? exports : (this['route'] = {});

route.Router = (function() {

  function Router() {
    this.routes = [];
  }

  Router.prototype.add = function(expr, fn) {
    var params, pattern, routes;
    if (typeof expr === 'object') {
      routes = expr;
    } else {
      routes = {};
      routes[expr] = fn;
    }
    for (expr in routes) {
      fn = routes[expr];
      pattern = "^" + expr + "$";
      pattern = pattern.replace(/([?=,\/])/g, '\\$1');
      pattern = pattern.replace(/\[(.*?)\]/g, '[[$1]]');
      params = ['